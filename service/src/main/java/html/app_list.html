<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Reduce短网址服务平台-项目管理</title>
<link rel="stylesheet"
	href="//cdn.staticfile.org/amazeui/2.7.2/css/amazeui.min.css" />
<link rel="stylesheet"
	href="//cdn.staticfile.org/font-awesome/5.12.0-1/css/fontawesome.min.css">
<link rel="stylesheet" href="assets/css/core.css" />
<link rel="stylesheet" href="assets/css/menu.css" />
<link rel="stylesheet" href="assets/css/index.css" />
<link rel="stylesheet" href="assets/css/admin.css" />
<link rel="stylesheet" href="assets/css/page/typography.css" />
<link rel="stylesheet" href="assets/css/page/form.css" />
</head>
<body>
	<!-- Begin page -->
	<header class="am-topbar am-topbar-fixed-top">
		<div class="am-topbar-left am-hide-sm-only">
			<a href="index.html" class="logo"><span>Admin<span>to</span></span><i
				class="zmdi zmdi-layers"></i></a>
		</div>

		<div class="contain">
			<ul class="am-nav am-navbar-nav am-navbar-left">

				<li><h4 class="page-title">项目列表</h4></li>
			</ul>

			<ul class="am-nav am-navbar-nav am-navbar-right">
				<li class="inform"><i class="am-icon-bell-o" aria-hidden="true"></i></li>
				<li class="hidden-xs am-hide-sm-only">
					<form role="search" class="app-search">
						<input type="text" placeholder="Search..." class="form-control">
						<a href=""><img src="assets/img/search.png"></a>
					</form>
				</li>
			</ul>
		</div>
	</header>
	<!-- end page -->
	<div class="admin">
		<div class="admin-sidebar am-offcanvas  am-padding-0"
			id="admin-offcanvas">
			<div class="am-offcanvas-bar admin-offcanvas-bar">
				<!-- User -->
				<div class="user-box am-hide-sm-only">
					<div class="user-img">
						<img src="assets/img/avatar-1.jpg" alt="user-img"
							title="Mat Helme" class="img-circle img-thumbnail img-responsive">
						<div class="user-status offline">
							<i class="am-icon-dot-circle-o" aria-hidden="true"></i>
						</div>
					</div>
					<h5>
						<a href="#">Mat Helme</a>
					</h5>
					<ul class="list-inline">
						<li><a href="#"> <i class="fa fa-cog" aria-hidden="true"></i>
						</a></li>

						<li><a href="#" class="text-custom"> <i class="fa fa-cog"
								aria-hidden="true"></i>
						</a></li>
					</ul>
				</div>
				<!-- End User -->

				<ul class="am-list admin-sidebar-list">
					<li><a href="index.html"><span class="am-icon-home"></span>
							首页</a></li>
					<li class="admin-parent"><a class="am-cf"
						data-am-collapse="{target: '#collapse-nav1'}"><span
							class="am-icon-table"></span> 表格 <span
							class="am-icon-angle-right am-fr am-margin-right"></span></a>
						<ul class="am-list am-collapse admin-sidebar-sub am-in"
							id="collapse-nav1">
							<li><a href="table_basic.html" class="am-cf"> 基本表格</span></a></li>
							<li><a href="table_complete.html">完整表格</a></li>
						</ul></li>
					<li class="admin-parent"><a class="am-cf"
						data-am-collapse="{target: '#collapse-nav2'}"><i
							class="am-icon-line-chart" aria-hidden="true"></i> 统计图表 <span
							class="am-icon-angle-right am-fr am-margin-right"></span></a>
						<ul class="am-list am-collapse admin-sidebar-sub am-in"
							id="collapse-nav2">
							<li><a href="chart_line.html" class="am-cf"> 折线图</span></a></li>
							<li><a href="chart_columnar.html" class="am-cf"> 柱状图</span></a></li>
							<li><a href="chart_pie.html" class="am-cf"> 饼状图</span></a></li>
						</ul></li>
					<li class="admin-parent"><a class="am-cf"
						data-am-collapse="{target: '#collapse-nav5'}"><span
							class="am-icon-file"></span> 表单 <span
							class="am-icon-angle-right am-fr am-margin-right"></span></a>
						<ul class="am-list am-collapse admin-sidebar-sub am-in"
							id="collapse-nav5">
							<li><a href="form_basic.html" class="am-cf"> 基本表单</a></li>
							<li><a href="form_validate.html">表单验证</a></li>
						</ul></li>
				</ul>
			</div>
		</div>
		<div class="content-page">
			<!-- Start content -->
			<div class="content">
				<div class="card-box">
					<!-- Row start -->
					<div class="am-g">
						<div class="am-u-sm-12 am-u-md-6">
							<div class="am-btn-toolbar">
								<div class="am-btn-group am-btn-group-xs">
									<button type="button" class="am-btn am-btn-default">
										<span class="am-icon-plus"></span> 新增
									</button>
									<button type="button" class="am-btn am-btn-default">
										<span class="am-icon-save"></span> 保存
									</button>
									<button type="button" class="am-btn am-btn-default">
										<span class="am-icon-archive"></span> 审核
									</button>
									<button type="button" class="am-btn am-btn-default">
										<span class="am-icon-trash-o"></span> 删除
									</button>
								</div>
							</div>
						</div>
					</div>
					
					<!-- Row end -->
					<!-- Row start -->
					<div class="am-g">
						<div class="am-u-sm-12">
							<form class="am-form">
								<table
									class="am-table am-table-striped am-table-hover table-main">
									<thead>
										<tr>
											<th class="table-id">ID</th>
											<th class="table-title">项目名</th>
											<th class="table-type  am-hide-sm-only">UnionId</th>
											<th class="table-author am-hide-sm-only">创建时间</th>
											<th class="table-date am-hide-sm-only">状态</th>
											<th class="table-set">操作</th>
										</tr>
									</thead>
									<tbody id="dataBody">
									</tbody>
								</table>
								<hr />
							</form>
						</div>

					</div>
				</div>

			</div>
		</div>
	</div>

	<!-- navbar -->
	<a href="admin-offcanvas"
		class="am-icon-btn am-icon-th-list am-show-sm-only admin-menu"
		data-am-offcanvas="{target: '#admin-offcanvas'}"> <!--<i class="fa fa-bars" aria-hidden="true"></i>-->
	</a>

	<script type="text/javascript"
		src="//cdn.staticfile.org/jquery/3.4.1/jquery.min.js"></script>
	<script type="text/javascript"
		src="//cdn.staticfile.org/amazeui/2.7.2/js/amazeui.min.js"></script>
	<script type="text/javascript" src="assets/js/app.js"></script>
	<script type="text/javascript"
		src="//cdn.staticfile.org/jquery.blockUI/2.70.0-2014.11.23/jquery.blockUI.min.js"></script>
</body>
<script>
	$(function(){ 
	　	loadApps();
	}); 
	
	function loadApps() {
		$.ajax({
			type : "GET",
			dataType : 'json',
			url : '../app/list',
			timeout : 60000,
			success : function(json) {
				if(json.code!=200){
					return;
				}
				var datas=json.datas;
				for ( var i = 0; i <datas.length; i++){
					var html='<tr>';
					html+='<td>'+datas[i].id+'</td>';
					html+='<td><a href="#">'+datas[i].name+'</a></td>';
					html+='<td>'+datas[i].unionId+'</td>';
					html+='<td class="am-hide-sm-only">'+timeStampTurnTime(datas[i].createTime/1000)+'</td>';
					html+='<td class="am-hide-sm-only">'+getStatus(datas[i].status)+'</td>';
					html+='<td><div class="am-btn-toolbar"><div class="am-btn-group am-btn-group-xs">';
					html+='<button class="am-btn am-btn-default am-btn-xs am-text-secondary"><span class="am-icon-pencil-square-o"></span> 编辑</button>';
					html+='<button class="am-btn am-btn-default am-btn-xs am-hide-sm-only"> <span class="am-icon-copy"></span> 复制 </button>';
					html+='<button class="am-btn am-btn-default am-btn-xs am-text-danger am-hide-sm-only"><span class="am-icon-trash-o"></span> 删除 </button>';
					html+='</div></div></td>';
					html+='</tr>';
					$("#dataBody").append(html);
				}
			},
			error : function() {
				alert("系统繁忙");
			},
			beforeSend: function (XMLHttpRequest) {
               XMLHttpRequest.setRequestHeader("token", localStorage.getItem("token"));
            }
		});
	}
	
	function getStatus(status){
		if(status==-1){
			return "已冻结";
		}
		if(status==0){
			return "待审核";
		}
		if(status==1){
			return "正常";
		}
		return "";
	}
	
	function timeStampTurnTime(timeStamp){
	    if(timeStamp > 0){
	        var date = new Date();  
	        date.setTime(timeStamp * 1000);  
	        var y = date.getFullYear();      
	        var m = date.getMonth() + 1;      
	        m = m < 10 ? ('0' + m) : m;      
	        var d = date.getDate();      
	        d = d < 10 ? ('0' + d) : d;      
	        var h = date.getHours();    
	        h = h < 10 ? ('0' + h) : h;    
	        var minute = date.getMinutes();    
	        var second = date.getSeconds();    
	        minute = minute < 10 ? ('0' + minute) : minute;      
	        second = second < 10 ? ('0' + second) : second;     
	        return y + '-' + m + '-' + d+' '+h+':'+minute+':'+second;       
	    }
	    return "";
	}
</script>
</html>
